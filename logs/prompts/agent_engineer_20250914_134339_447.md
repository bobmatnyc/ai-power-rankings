---
timestamp: 2025-09-14T13:43:39.447658
type: agent_engineer
metadata: {"agent_type": "engineer", "agent_id": "engineer_1ddb256a-8be1-4e92-83b2-f14320a1d455", "session_id": "1ddb256a-8be1-4e92-83b2-f14320a1d455", "delegation_context": {"description": "Set dev port to 3002 and update docs", "timestamp": "2025-09-14T13:43:39.446519"}}
---


AGENT MEMORY - PROJECT-SPECIFIC KNOWLEDGE:
# Agent Memory: engineer
<!-- Last Updated: 2025-08-07 16:00:35 | Auto-updated by: engineer -->

<!-- MEMORY LIMITS: 8KB max | 10 sections max | 15 items per section -->

## Project Context
ai-power-rankings: node_js (with typescript, react) single page application
- Main modules: types, contexts, app, app/rss.xml
- Uses: @marsidev/react-turnstile, @radix-ui/react-checkbox, @radix-ui/react-collapsible
- Testing: @testing-library/jest-dom
- Key patterns: Async Programming

## Project Architecture
- Single Page Application with node_js implementation
- Main directories: src, docs
- Core modules: types, contexts, app, app/rss.xml

## Coding Patterns Learned
- Node.js project: use async/await, ES6+ features
- React patterns: component composition, hooks usage
- React patterns: component composition, hooks usage
- React patterns: component composition, hooks usage
- Project uses: Async Programming

## Implementation Guidelines
- Use pnpm for dependency management
- Write tests using @testing-library/jest-dom
- Use build tools: test, test:watch
- Key config files: package.json

## Domain-Specific Knowledge
<!-- Agent-specific knowledge for ai-power-rankings domain -->
- Key project terms: tools, about, rankings, admin
- Focus on implementation patterns, coding standards, and best practices
- Ensure test coverage using @testing-library/jest-dom

## Effective Strategies
<!-- Successful approaches discovered through experience -->

## Common Mistakes to Avoid
- Avoid callback hell - use async/await consistently
- Don't commit node_modules - ensure .gitignore is correct
- Don't skip test isolation - ensure tests can run independently

## Integration Points
- REST API integration pattern

## Performance Considerations
- Leverage event loop - avoid blocking operations
- Use streams for large data processing
- Use React.memo for expensive component renders

## Current Technical Context
- Tech stack: node_js, @marsidev/react-turnstile, @radix-ui/react-checkbox
- API patterns: REST API
- Key dependencies: @builder.io/partytown, @hookform/resolvers, @marsidev/react-turnstile, @next/third-parties
- Documentation: README.md, CHANGELOG.md, docs/SITEMAP-SUBMISSION.md

## Recent Learnings
<!-- Most recent discoveries and insights -->
- **August 2025 API Consolidation**: Reduced 8 separate endpoints to 1 unified handler
- **Code Reduction**: Achieved 30% reduction through aggressive refactoring
- **JSON Storage**: Standardized on file-based storage with validation
- **Cache Strategy**: Generate static JSON files for performance
- **TrackDown Integration**: All work must link to local tickets in /trackdown/


INSTRUCTIONS: Review your memory above before proceeding. Apply learned patterns and avoid known mistakes.


Configure the AI Power Rankings development server to use port 3002 as the standard port and update all documentation to reflect this.

Tasks to complete:

1. **Create/Update .env.development** file to set the default port:
   - Create or update `.env.development` in the project root
   - Add: `PORT=3002`
   - This ensures the dev server always uses port 3002

2. **Update the dev-pm2.js script** (/Users/masa/Projects/managed/ai-power-ranking/scripts/dev-pm2.js):
   - Modify the script to default to port 3002
   - Add PORT=3002 to the environment variables when starting the server

3. **Update CLAUDE.md** (/Users/masa/Projects/managed/ai-power-ranking/CLAUDE.md):
   - Add a clear note about the standard development port being 3002
   - Update any localhost examples to use port 3002
   - Add it to the Quick Reference section

4. **Update other documentation files**:
   - Check and update `/docs/INSTRUCTIONS.md`
   - Check and update `/docs/WORKFLOW.md`
   - Check and update `/README.md` if it mentions localhost ports
   - Update any other docs that reference localhost:3000

5. **Update .env.local** to reflect the correct URLs:
   - Change NEXTAUTH_URL to use port 3002
   - Change NEXT_PUBLIC_BASE_URL to use port 3002

6. **Restart the server on port 3002**:
   ```bash
   pm2 delete ai-power-rankings-dev
   PORT=3002 pnpm run dev:pm2 start
   ```

7. **Test that it works on port 3002**:
   - Verify the server starts on port 3002
   - Test that http://localhost:3002 loads correctly

Documentation updates should clearly state:
- "The AI Power Rankings development server runs on port 3002 by default"
- "Access the dev site at http://localhost:3002"
- This port was chosen to avoid conflicts with other common development servers

Make sure all changes are consistent across all documentation files.