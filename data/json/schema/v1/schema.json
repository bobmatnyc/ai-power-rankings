{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "AI Power Rankings JSON Database Schema",
  "version": "1.0.0",
  "description": "Schema definitions for the AI Power Rankings JSON database",
  "definitions": {
    "Tool": {
      "type": "object",
      "required": ["id", "slug", "name", "category", "status", "info", "created_at", "updated_at"],
      "properties": {
        "id": { "type": "string" },
        "slug": { "type": "string" },
        "name": { "type": "string" },
        "category": { "type": "string" },
        "status": { "enum": ["active", "inactive", "deprecated"] },
        "company_id": { "type": "string" },
        "info": {
          "type": "object",
          "required": ["summary", "description", "website", "features"],
          "properties": {
            "summary": { "type": "string" },
            "description": { "type": "string" },
            "website": { "type": "string", "format": "uri" },
            "features": { "type": "array", "items": { "type": "string" } },
            "technical": {
              "type": "object",
              "properties": {
                "context_window": { "type": "number" },
                "supported_languages": { "type": "number" },
                "has_api": { "type": "boolean" },
                "multi_file_support": { "type": "boolean" },
                "languages": { "type": "array", "items": { "type": "string" } }
              }
            },
            "business": {
              "type": "object",
              "properties": {
                "pricing_model": { "type": "string" },
                "business_model": { "type": "string" },
                "base_price": { "type": "number" },
                "enterprise_pricing": { "type": "boolean" }
              }
            },
            "metrics": {
              "type": "object",
              "properties": {
                "github_stars": { "type": "number" },
                "github_contributors": { "type": "number" },
                "estimated_users": { "type": "number" },
                "monthly_arr": { "type": "number" },
                "valuation": { "type": "number" },
                "funding_total": { "type": "number" },
                "last_funding_date": { "type": "string", "format": "date" },
                "swe_bench_score": { "type": "number" }
              }
            }
          }
        },
        "tags": { "type": "array", "items": { "type": "string" } },
        "created_at": { "type": "string", "format": "date-time" },
        "updated_at": { "type": "string", "format": "date-time" }
      }
    },
    "RankingPeriod": {
      "type": "object",
      "required": ["period", "algorithm_version", "is_current", "created_at", "rankings"],
      "properties": {
        "period": { "type": "string", "pattern": "^\\d{4}-\\d{2}$" },
        "algorithm_version": { "type": "string" },
        "is_current": { "type": "boolean" },
        "created_at": { "type": "string", "format": "date-time" },
        "preview_date": { "type": "string", "format": "date-time" },
        "rankings": {
          "type": "array",
          "items": { "$ref": "#/definitions/RankingEntry" }
        }
      }
    },
    "RankingEntry": {
      "type": "object",
      "required": ["tool_id", "tool_name", "position", "score", "factor_scores"],
      "properties": {
        "tool_id": { "type": "string" },
        "tool_name": { "type": "string" },
        "position": { "type": "number", "minimum": 1 },
        "score": { "type": "number", "minimum": 0 },
        "tier": { "enum": ["S", "A", "B", "C", "D"] },
        "factor_scores": {
          "type": "object",
          "required": [
            "agentic_capability",
            "innovation",
            "technical_performance",
            "developer_adoption",
            "market_traction",
            "business_sentiment",
            "development_velocity",
            "platform_resilience"
          ],
          "properties": {
            "agentic_capability": { "type": "number" },
            "innovation": { "type": "number" },
            "technical_performance": { "type": "number" },
            "developer_adoption": { "type": "number" },
            "market_traction": { "type": "number" },
            "business_sentiment": { "type": "number" },
            "development_velocity": { "type": "number" },
            "platform_resilience": { "type": "number" }
          }
        },
        "movement": {
          "type": "object",
          "properties": {
            "previous_position": { "type": "number" },
            "change": { "type": "number" },
            "direction": { "enum": ["up", "down", "same", "new"] }
          }
        },
        "change_analysis": {
          "type": "object",
          "properties": {
            "primary_reason": { "type": "string" },
            "narrative_explanation": { "type": "string" }
          }
        }
      }
    },
    "NewsArticle": {
      "type": "object",
      "required": ["id", "slug", "title", "content", "published_date", "created_at", "updated_at"],
      "properties": {
        "id": { "type": "string" },
        "slug": { "type": "string" },
        "title": { "type": "string" },
        "content": { "type": "string" },
        "summary": { "type": "string" },
        "author": { "type": "string" },
        "published_date": { "type": "string", "format": "date-time" },
        "source": { "type": "string" },
        "source_url": { "type": "string", "format": "uri" },
        "tags": { "type": "array", "items": { "type": "string" } },
        "tool_mentions": { "type": "array", "items": { "type": "string" } },
        "created_at": { "type": "string", "format": "date-time" },
        "updated_at": { "type": "string", "format": "date-time" }
      }
    },
    "Company": {
      "type": "object",
      "required": ["id", "slug", "name", "created_at", "updated_at"],
      "properties": {
        "id": { "type": "string" },
        "slug": { "type": "string" },
        "name": { "type": "string" },
        "description": { "type": "string" },
        "website": { "type": "string", "format": "uri" },
        "founded": { "type": "string" },
        "headquarters": { "type": "string" },
        "size": { "type": "string" },
        "funding_total": { "type": "number" },
        "last_funding_round": { "type": "string" },
        "investors": { "type": "array", "items": { "type": "string" } },
        "created_at": { "type": "string", "format": "date-time" },
        "updated_at": { "type": "string", "format": "date-time" }
      }
    }
  }
}